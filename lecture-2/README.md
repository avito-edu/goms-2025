# Conspectus: Структуры и коллекции в Go: массивы, слайсы и map на практике

### **Краткий конспект по структурам данных в Go**

---

#### **1. Структуры (Structs)**
- **Что это?**  
  Тип данных, объединяющий поля разных типов под одним именем (как "объект" в ООП).

- **Отличие от простых типов**  
  Простые типы (`int`, `string`) хранят одно значение, структуры — набор значений.

- **Синтаксис**:
  ```go
  type User struct {
      Name string
      Age  int
  }
  ```

- **Доступ к полям**:
  ```go
  user := User{"Alice", 25}
  fmt.Println(user.Name) // "Alice"
  ```

- **Изменение полей**:
  ```go
  user.Age = 26
  ```

- **Передача в функцию**  
  По умолчанию — по значению (копируется). Для изменения передавайте указатель:
  ```go
  func updateAge(u *User) {
      u.Age = 30
  }
  ```

- **Инициализация**:
  ```go
  u1 := User{"Bob", 30}          // по порядку полей
  u2 := User{Name: "Bob", Age: 30} // с указанием полей
  u3 := new(User)                // через new (возвращает указатель)
  ```

- **Вложенные структуры**:
  ```go
  type Profile struct {
      User  User
      Email string
  }
  ```

- **Методы**:
  ```go
  func (u User) SayHello() {
      fmt.Printf("Hi, I'm %s!", u.Name)
  }
  ```

---

#### **2. Массивы**
- **Что это?**  
  Фиксированная последовательность элементов одного типа.

- **Инициализация**:
  ```go
  var arr [3]int           // [0, 0, 0]
  nums := [3]int{1, 2, 3}  // Явное задание
  ```

- **Особенности**:
    - Размер фиксирован (`[n]T`).
    - Передаются **по значению** (копируются).
    - Индексация с `0`: `arr[0] = 10`.

---

#### **3. Слайсы (Slices)**
- **Отличие от массивов**:
    - Динамический размер.
    - Передаются по ссылке.
    - Под капотом — ссылка на массив.

- **Операции**:
  ```go
  s := make([]int, 3, 5) // Длина 3, capacity 5
  s = append(s, 4)       // Добавление элемента
  s[1] = 10              // Изменение
  ```

- **Slice-оператор**:
  ```go
  s := []int{1, 2, 3, 4}
  sub := s[1:3] // [2, 3] (включая low, исключая high)
  ```

- **Capacity**  
  Вместимость базового массива. Увеличивается автоматически при `append`.

---

#### **4. Maps**
- **Что это?**  
  Коллекция пар ключ-значение (аналог словаря).

- **Отличие от слайсов/массивов**:
    - Неупорядоченные.
    - Ключи — любого сравниваемого типа (`string`, `int` и т.д.).

- **Инициализация**:
  ```go
  m := make(map[string]int)
  m := map[string]int{"a": 1, "b": 2}
  ```

- **Операции**:
  ```go
  m["key"] = 10      // Добавление
  delete(m, "key")   // Удаление
  val, ok := m["key"] // Проверка существования
  ```

---

### **Сравнение типов**
| Характеристика      | Массив       | Слайс        | Мапа            |
|---------------------|-------------|-------------|-----------------|
| Размер              | Фиксированный | Динамический | Динамический    |
| Передача            | По значению  | По ссылке    | По ссылке       |
| Ключи               | Индексы (0..n) | Индексы (0..n) | Любые           |
| Порядок элементов   | Сохраняется  | Сохраняется  | Не гарантирован |

---

**Примеры для закрепления:**
- [Структуры и методы](https://gobyexample.com/structs)
- [Слайсы vs Массивы](https://go.dev/blog/slices-intro)
- [Мапки в Go](https://gobyexample.com/maps)